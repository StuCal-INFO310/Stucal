@startuml entity relationship diagram
skin rose
' ======= Entities =======

entity "Student User" as student {
  *student_id: Integer(11) <<PK>>
  --
  *surname: varchar(50)
  *other_names: varchar(50)
  *email: varchar(255)
  *password: varchar(255)
  *username: varchar(255)
} 

entity "Staff User" as staff {
  *staff_id: Integer(11) <<PK>>
  --
  *surname: varchar(50)
  *other_names: varchar(50)
  *email: varchar(255)
  *password: varchar(255)
  *username: varchar(255)
} 

entity "timetable" as timetable{
  *paper: char(7)<<FK>>
  *date:datetime
  *start_time:datetime
  *end_time:datetime
  *type:varchar(30)
  *room:varchar(15)

}

entity "Classes" as class{
    *paper: char(7)<<PK>>
    *date:datetime
    *start_time:datetime
    *end_time:datetime
    *type:varchar(30)
    *room:varchar(15)

}


entity "Calendar" as calendar{
  *paper: char(7)<<FK>>
  *date:datetime
  *start_time:datetime
  *end_time:datetime
  *type:varchar(30)
  *room:varchar(15)
  *comment/review:varchar(100)
  *weather:varchar(30)
}

entity "Rating" as rating{
    *review_id: Integer(11) <<PK>>
    --
    *student_id: Integer(11) <<FK>>
    *staff_id: varchar(255) <<FK>>
    *review_text: varchar(255)
    *star_rating:smallint
}

' ======= Relationships =======

' Note: the \r is a right-aligned line break (\l is left-aligned, and \n is centred)
student ||----timetable : exports
timetable -- calendar:syncs to
timetable ||--|{ class : contains
student -- rating : writes
staff -- rating: reads



@enduml