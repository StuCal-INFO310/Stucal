<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>StuCal</title>
        <link rel="stylesheet" href="./css/styles.css">
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        <!-- link supabase jsdeliver -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        
        <!-- link global and script js -->
        <script src="./js/global.js"></script>
        <script src="./js/script.js"></script>
    
        <!-- fancy alerts -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
        <!-- tailwind config -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script>    
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                theme: '#077BFF',
              }
            }
          }
        }
        </script>
    
    </head>
<body>
    <header>
        <div class="white-logo" style="width: 100px; height: 50px;"></div>
        <div class="menu-toggle" onclick="toggleMenu()"><span class="material-symbols-outlined">
            menu
            </span></div>
        <nav class="menu">
            <ul>
                <li><a href="login.html">Login</a></li>
                <li><a href="signup.html">Sign Up</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="faq.html">FAQ</a></li>
                <li><a href="printout.html">Physical calendars</a></li>

            </ul>
        </nav>
    </header>

    <div class = "content">
        <div class = "centered">
               <h1>Create new user </h1>
            
                    <label for="email">Email:</label>
                    <input id="signup-email" name="email" type = "email" required>
                    <br>
                    <label for="username">Username:</label>
                    <input id="signup-username" name="username" type = "text" required> 
                    <br>
                    <label for="password">Password:</label>
                    <input id="signup-password" name="password" type = "password" minlength="6" required>
                    <br>
                    <button id="signup-button">Create Account</button>
                 <p>Already have an account? Click <a href="login.html">login</a> </p>

     
            </div>
    </div>

    <footer>
        <div class="centered">
            <p>&copy; 2024 StuCal</p>
        </div>
    </footer>

</body>

<script>
    const signupButton = document.getElementById('signup-button');
    signupButton.addEventListener('click', async () => {
        const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-password').value;
        const username = document.getElementById('signup-username').value;
        signup(email, password);

        await supabase.from('users').insert([
            { email, username }
        ]).then(res => {
            console.log(res);
        }).catch(err => {
            console.error(err);
        });
    }); 
</script>
</html>